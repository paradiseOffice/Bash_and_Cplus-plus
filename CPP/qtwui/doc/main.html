<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>QtWui : Web User Interfaces for Qt: QtWui: Web User Interface for Qt</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li class="current"><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>QtWui: Web User Interface for Qt</h1>
<p>
<h3 align="center">0.1 </h3><h2><a class="anchor" name="what_is_qtwui">
What is QtWui</a></h2>
QtWui is a module for <a class="el" href="namespaceQt.html">Qt</a> that enables you to write web applications just like you where writing a standard desktop GUI application with QtGui. It comes with a simple web server that runs the application. In the future it will also be possible to use an external web server that supports FastCGI.<h2><a class="anchor" name="general_principle">
General principle</a></h2>
The idea behind QtWui is that each connected user opens a new session on the server and this session is like a standard application process on a desktop computer. Each sessin has a lifetime that can be configured. If no user action occurs before the end of the session lifetime, it is destroyed.<h2><a class="anchor" name="interal_machinery">
Internal machinery</a></h2>
<div align="center">
<img src="qtwui-schema.png" alt="qtwui-schema.png">
</div>
 The web server works with an application server (<a class="el" href="classQwuiApplicationServer.html" title="Application server. The application server uses internally an HTTP server and an...">QwuiApplicationServer</a>) that is in charge of creating applications instances for each new client (web browser).<p>
When a client (web browser) connects to the server, a new application instance is created and a session ID is affected to it. All further communication between the client and the server use this session ID, refering always the same application instance within the server.<p>
Each application instance is independant of the others. Modifying the widgets won't affect the other application instances.<p>
You can chose between two different ways of handling client requests:<ul>
<li>Queued: client requests are put in a FIFO and threated sequentially</li><li>Threaded: client requests are threated simultaneously within a thread. A thread is created, the application instance corresponding to the client session ID is moved to this thread and than all the computation and communication takes place in this thread. Once finished. the application goes back to the application server pool and the thread is destroyed.</li></ul>
<p>
If the application cannot provide any html code for the given URL, the request is forwarded to a file ressource provider who will check if a file on the disk corresponds to the request and than will transmit it.<p>
QtWui makes use of the AJAX technology to communicate between the client and the server. All the client AJAX machinery is provided by Prototype Javascript Framework (<a href="http://www.prototypejs.org/">http://www.prototypejs.org/</a>).<h2><a class="anchor" name="web_widgets">
Web widgets</a></h2>
QtWui doesn't provide many web widgets (webgets) for the moment:<ul>
<li>A base widget (<a class="el" href="classQwuiWebget.html" title="The base class for all webgets.">QwuiWebget</a>) that can be used to compose complex UIs.</li><li>A main window (QwuiMainWindow) that is used as the main container for the web application. It also initialises the CSS and javascript used by contained web widgets.</li><li>A label (<a class="el" href="classQwuiLabel.html" title="A label webget. A label can be used to display text, an image and links. if you put...">QwuiLabel</a>) that is similar to QLabel.</li><li>A scroll area (<a class="el" href="classQwuiScrollArea.html" title="A simple scroll area webget.">QwuiScrollArea</a>)</li><li>A stacked webget (<a class="el" href="classQwuiStackedWebget.html" title="A stacked webget container.">QwuiStackedWebget</a>)</li><li>A set of layouts to organise your webgets (<a class="el" href="classQwuiHBoxLayout.html" title="Layout used to dispose webgets horizontally.">QwuiHBoxLayout</a>, <a class="el" href="classQwuiVBoxLayout.html" title="Layout used to dispose webgets vertically.">QwuiVBoxLayout</a>, <a class="el" href="classQwuiStackedLayout.html" title="A stacked webgets layout. This layout keeps a stack of webgets and displays only...">QwuiStackedLayout</a> and <a class="el" href="classQwuiGridLayout.html" title="A grid layout. This layout can be used to organise child widgets in a table.">QwuiGridLayout</a>). They are similar to their friends in QtGui.</li></ul>
<h2><a class="anchor" name="example">
Example</a></h2>
Here is the traditionnal "Hello World" example: <div class="fragment"><pre class="fragment"><span class="comment">//</span>
<span class="comment">// the traditionnal main function only starts the application server.</span>
<span class="comment">//</span>
<span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv)
{
    QCoreApplication app(argc, argv);
    <a class="code" href="classQwuiApplicationServer.html" title="Application server. The application server uses internally an HTTP server and an...">QwuiApplicationServer</a> webAppServer(webMain);
    webAppServer.setBuiltInServerPort(8888);
    webAppServer.exec();
    <span class="keywordflow">return</span> app.exec();
}

<span class="comment">//</span>
<span class="comment">// This is the main function executed by the application server for each new session.</span>
<span class="comment">//</span>
<a class="code" href="classQwuiApplication.html" title="The main class used for all web application sessions. This class has to be created...">QwuiApplication</a>* webMain(<span class="keyword">const</span> QString&amp; sessionId, <span class="keyword">const</span> QStringList&amp; args)
{
    Q_UNUSED(args);

    <a class="code" href="classQwuiApplication.html" title="The main class used for all web application sessions. This class has to be created...">QwuiApplication</a>* webApp = <span class="keyword">new</span> <a class="code" href="classQwuiApplication.html" title="The main class used for all web application sessions. This class has to be created...">QwuiApplication</a>(sessionId);
    <a class="code" href="classQwuiMainWebget.html" title="Main web widget. Use an instance of this class as main container for your UI.">QwuiMainWebget</a>* mw = <span class="keyword">new</span> <a class="code" href="classQwuiMainWebget.html" title="Main web widget. Use an instance of this class as main container for your UI.">QwuiMainWebget</a>(NULL, <span class="stringliteral">"mw"</span>);
    mw-&gt;<a class="code" href="classQwuiMainWebget.html#63c7744fce5f30ecbbcdc2c37fcd0ef1">setTitle</a>(<span class="stringliteral">"QtWui Test"</span>);
    <a class="code" href="classQwuiLabel.html" title="A label webget. A label can be used to display text, an image and links. if you put...">QwuiLabel</a>* helloWorld = <span class="keyword">new</span> <a class="code" href="classQwuiLabel.html" title="A label webget. A label can be used to display text, an image and links. if you put...">QwuiLabel</a>(mw, <span class="stringliteral">"helloWorld"</span>);
    webApp-&gt;<a class="code" href="classQwuiApplication.html#5a9498d19db1fb302cd6c4e18c340f12">setMainWebget</a>(helloWorld);
    helloWorld-&gt;<a class="code" href="classQwuiLabel.html#53faa124b5306beddfc8c508eae7e801">setText</a>(<span class="stringliteral">"Hello World !"</span>);
    <span class="keywordflow">return</span> webApp;
}
</pre></div><h2><a class="anchor" name="installing">
Installing</a></h2>
QtWui can be built like a standard <a class="el" href="namespaceQt.html">Qt</a> program: with qmake and make. The sources come with a simple demo: a hangman game. It is built with the QtWui sources. Go to the folder where you uncompressed the source archive and follow the these steps:<ul>
<li>On unices: <div class="fragment"><pre class="fragment">qmake
make
./run_hangman.sh
</pre></div></li><li>On windows with the msvc compiler <div class="fragment"><pre class="fragment">qmake
nmake
run_hangman.bat
</pre></div></li></ul>
<p>
The run_hangman script starts the server on the port 8888. edit the script to change the port. Then start a web browser and go to the <a href="http://localhost:8888">http://localhost:8888</a> page to try the game.<h2><a class="anchor" name="furure">
Future</a></h2>
There are many feature missing in QtWui to make it a usable web application framework. The main missing things are:<ul>
<li>Add form widgets (buttons, checkboxes, line edits, etc...)</li><li>Add missing webgets like progress bars, splitters, menus, dock widgets, etc...</li><li>Add support for external web servers (Apache, Lighttpd, IIS, etc...)</li><li>And much more !</li></ul>
<p>
Help is welcome! To get in touch with me: eric DOT alber AT gmail DOT com </div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Dec 19 00:31:14 2008 for QtWui : Web User Interfaces for Qt by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
